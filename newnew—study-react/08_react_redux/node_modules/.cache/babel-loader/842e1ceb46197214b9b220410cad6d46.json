{"ast":null,"code":"import axios from \"axios\";\nimport { CHANGE_BANNER, CHANGE_RECOMMEND } from \"./constants\";\nexport const changeBannerAction = banner => ({\n  type: CHANGE_BANNER,\n  banner\n});\nexport const changeRecommendAction = recommend => ({\n  type: CHANGE_RECOMMEND,\n  recommend\n});\nexport const fetchHomeMultidataAction = homeMultidata => {\n  // 如果是一个普通的action，那么这里需要返回一个对象。\n  // 返回的对象中不能直接拿到服务器返回的异步数据的\n  // return {};\n  // 如果返回的是一个函数，redux是不支持的，要用新的包redux-thunk。\n  function foo(dispatch, getState) {\n    // 异步操作\n    console.log(\"1\", getState().counter);\n    axios.get(\"http://123.207.32.32:8000/home/multidata\").then(res => {\n      const banner = res.data.data.banner.list;\n      const recommend = res.data.data.recommend.list;\n      dispatch(changeBannerAction(banner));\n      dispatch(changeRecommendAction(recommend));\n    });\n  }\n\n  return foo;\n};","map":{"version":3,"names":["axios","CHANGE_BANNER","CHANGE_RECOMMEND","changeBannerAction","banner","type","changeRecommendAction","recommend","fetchHomeMultidataAction","homeMultidata","foo","dispatch","getState","console","log","counter","get","then","res","data","list"],"sources":["D:/study/react-sss/newnew—study-react/08_react_redux/src/store/counter/actionCreator.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  CHANGE_BANNER,\r\n  CHANGE_RECOMMEND,\r\n} from \"./constants\";\r\n\r\nexport const changeBannerAction = (banner) => ({\r\n  type: CHANGE_BANNER,\r\n  banner,\r\n});\r\nexport const changeRecommendAction = (recommend) => ({\r\n  type: CHANGE_RECOMMEND,\r\n  recommend,\r\n});\r\n\r\nexport const fetchHomeMultidataAction = (homeMultidata) => {\r\n  // 如果是一个普通的action，那么这里需要返回一个对象。\r\n  // 返回的对象中不能直接拿到服务器返回的异步数据的\r\n  // return {};\r\n  // 如果返回的是一个函数，redux是不支持的，要用新的包redux-thunk。\r\n  function foo(dispatch, getState) {\r\n    // 异步操作\r\n    console.log(\"1\", getState().counter);\r\n    axios.get(\"http://123.207.32.32:8000/home/multidata\").then((res) => {\r\n      const banner = res.data.data.banner.list;\r\n      const recommend = res.data.data.recommend.list;\r\n      dispatch(changeBannerAction(banner));\r\n      dispatch(changeRecommendAction(recommend));\r\n    });\r\n  }\r\n  return foo;\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,aADF,EAEEC,gBAFF,QAGO,aAHP;AAKA,OAAO,MAAMC,kBAAkB,GAAIC,MAAD,KAAa;EAC7CC,IAAI,EAAEJ,aADuC;EAE7CG;AAF6C,CAAb,CAA3B;AAIP,OAAO,MAAME,qBAAqB,GAAIC,SAAD,KAAgB;EACnDF,IAAI,EAAEH,gBAD6C;EAEnDK;AAFmD,CAAhB,CAA9B;AAKP,OAAO,MAAMC,wBAAwB,GAAIC,aAAD,IAAmB;EACzD;EACA;EACA;EACA;EACA,SAASC,GAAT,CAAaC,QAAb,EAAuBC,QAAvB,EAAiC;IAC/B;IACAC,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBF,QAAQ,GAAGG,OAA5B;IACAf,KAAK,CAACgB,GAAN,CAAU,0CAAV,EAAsDC,IAAtD,CAA4DC,GAAD,IAAS;MAClE,MAAMd,MAAM,GAAGc,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcf,MAAd,CAAqBgB,IAApC;MACA,MAAMb,SAAS,GAAGW,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcZ,SAAd,CAAwBa,IAA1C;MACAT,QAAQ,CAACR,kBAAkB,CAACC,MAAD,CAAnB,CAAR;MACAO,QAAQ,CAACL,qBAAqB,CAACC,SAAD,CAAtB,CAAR;IACD,CALD;EAMD;;EACD,OAAOG,GAAP;AACD,CAhBM"},"metadata":{},"sourceType":"module"}